const runner=[];window.onload=(()=>runner.map(e=>e()));const Utilities={};Utilities.findChildren=((e,t,s)=>{const i=[];let o=s.firstChild;for(;o;)o.nodeName===e&&o.classList.contains(t)&&i.push(o),o=o.nextSibling;return i}),Utilities.grabOptions=((e,t,s,i)=>{const o={};o.default=e,o.current=t||{},o.calculated={};const n=i||Object.keys(e);for(let e=0;e<n.length;e+=1){const t=n[e];let i;i="false"!==(i=t in o.current?o.current[t]:s&&t in s.dataset?s.dataset[t]:o.default[t])&&i,o.calculated[t]=i}return o.calculated});class Tree{static bind(){Array.prototype.forEach.call(document.querySelectorAll(Tree.Selector.data),e=>new Tree(e))}constructor(e,t,s,i,o){this.Default=Tree.Default,this.ClassName=s||Tree.ClassName,this.Selector=i||Tree.Selector,this.Event=o||Tree.Event,this.element=e,this.element.classList.add(this.ClassName.tree),this.options=Utilities.grabOptions(this.Default,t,this.element);const n=this.element.querySelector(this.Selector.activeTreeview);null!==n&&n.classList.add(this.ClassName.open),this.setUpListeners()}setUpListeners(){Array.prototype.forEach.call(this.element.querySelectorAll(this.options.trigger),e=>{e.addEventListener("click",t=>{this.toggle(e,t)})})}toggle(e,t){const s=e.parentNode,i=s.classList.contains(this.ClassName.open),o=Utilities.findChildren("UL",this.ClassName.treeviewMenu,s);s.classList.contains(this.ClassName.treeview)&&(this.options.followLink&&"#"!==e.getAttribute("href")||t.preventDefault(),i?this.collapse(o,s):this.expand(o,s))}collapse(e,t){t.classList.remove(this.ClassName.open);const s=e;Array.prototype.forEach.call(s,e=>{const t=e;"undefined"==typeof Velocity?(t.style.display="none",this.element.dispatchEvent(new CustomEvent(this.Event.collapsed))):Velocity(t,"slideUp",{easing:this.options.easing,duration:this.options.animationSpeed}).then(()=>{this.element.dispatchEvent(new CustomEvent(this.Event.collapsed))})})}expand(e,t){const s=Utilities.findChildren("LI",this.ClassName.open,t.parentNode);this.options.accordion&&Array.prototype.forEach.call(s,e=>{const t=Utilities.findChildren("UL",this.ClassName.treeviewMenu,e);this.collapse(t,e)}),t.classList.add(this.ClassName.open);const i=e[0];"undefined"==typeof Velocity?(i.style.display="block",this.element.dispatchEvent(new CustomEvent(this.Event.expanded))):Velocity(i,"slideDown",{easing:this.options.easing,duration:this.options.animationSpeed}).then(()=>{this.element.dispatchEvent(new CustomEvent(this.Event.expanded))})}}Tree.Default={animationSpeed:300,accordion:!0,followLink:!0,trigger:".treeview a",easing:"easeInSine"},Tree.Selector={data:'[data-widget="tree"]',activeTreeview:".treeview.active"},Tree.ClassName={open:"menu-open",tree:"tree",treeview:"treeview",treeviewMenu:"treeview-menu"},Tree.Event={expanded:"tree_expanded",collapsed:"tree_collapsed"},runner.push(Tree.bind);class PushMenu{static bind(){Array.prototype.forEach.call(document.querySelectorAll(PushMenu.Selector.button),e=>new PushMenu(e))}constructor(e,t,s,i){this.Default=PushMenu.Default,this.ClassName=s||PushMenu.ClassName,this.Selector=i||PushMenu.Selector,this.element=e,this.windowWidth=window.innerWidth,this.options=Utilities.grabOptions(this.Default,t,this.element),this.body=document.querySelector("body"),e&&((this.options.expandOnHover||this.body.classList.contains(this.ClassName.mini)&&this.body.classList.contains(this.ClassName.layoutFixed))&&(this.expandOnHover(),this.body.classList.add(this.ClassName.expandFeature)),this.body.getElementsByClassName(this.ClassName.contentWrapper)[0].addEventListener("click",()=>{this.windowWidth<=this.options.collapseScreenSize&&this.body.classList.contains(this.ClassName.open)&&this.close()}),this.body.querySelector(this.Selector.searchInput).addEventListener("click",e=>{e.stopPropagation()}),this.setUpListeners())}setUpListeners(){this.element.addEventListener("click",e=>{this.windowWidth=window.innerWidth,e.preventDefault(),this.toggle()})}toggle(){let e=!this.body.classList.contains(this.ClassName.collapsed);this.windowWidth<=this.options.collapseScreenSize&&(e=this.body.classList.contains(this.ClassName.open)),e?this.close():this.open()}open(){this.windowWidth>this.options.collapseScreenSize?this.body.classList.remove(this.ClassName.collapsed):this.body.classList.add(this.ClassName.open)}close(){this.windowWidth>this.options.collapseScreenSize?(this.body.classList.remove(this.ClassName.expanded),this.body.classList.add(this.ClassName.collapsed)):(this.body.classList.remove(this.ClassName.open),this.body.classList.remove(this.ClassName.collapsed))}expand(){window.setTimeout(()=>{this.body.classList.remove(this.ClassName.collapsed),this.body.classList.add(this.ClassName.expanded)},this.options.expandTransitionDelay)}collapse(){window.setTimeout(()=>{this.body.classList.remove(this.ClassName.expanded),this.body.classList.add(this.ClassName.collapsed)},this.options.expandTransitionDelay)}expandOnHover(){Array.prototype.forEach.call(document.getElementsByClassName(this.ClassName.mainSidebar),e=>{e.addEventListener("mouseover",()=>{this.body.classList.contains(this.ClassName.mini)&&this.body.classList.contains(this.ClassName.collapsed)&&this.windowWidth>this.options.collapseScreenSize&&this.expand()}),e.addEventListener("mouseleave",()=>{this.body.classList.contains(this.ClassName.expanded)&&this.collapse()})})}}PushMenu.Default={collapseScreenSize:767,expandOnHover:!1,expandTransitionDelay:0},PushMenu.Selector={button:'[data-toggle="push-menu"]',mainLogo:".main-header .logo",searchInput:".sidebar-form .form-control"},PushMenu.ClassName={collapsed:"sidebar-collapse",open:"sidebar-open",mainSidebar:"main-sidebar",mini:"sidebar-mini",contentWrapper:"content-wrapper",layoutFixed:"fixed",expanded:"sidebar-expanded-on-hover",expandFeature:"sidebar-mini-expand-feature"},runner.push(PushMenu.bind);class Layout{constructor(e,t,s){this.Default=Layout.Default,this.Selector=s||Layout.Selector,this.ClassName=t||Layout.ClassName,this.blindedResize=!1,this.element=document.querySelector("body"),this.options=Utilities.grabOptions(this.Default,e,this.element),this.activate()}activate(){if(this.fixLayout(),this.options.transitionEnabled&&this.element.classList.remove(this.ClassName.holdTransition),this.options.resetHeight){const e=document.querySelectorAll(this.Selector.heightReset);Array.prototype.forEach.call(e,e=>{const t=e;t.style.height="auto",t.style.minHeight="100%"})}if(!this.bindedResize){window.addEventListener("resize",this.fixLayout.bind(this));const e=document.querySelector(this.Selector.logo),t=document.querySelector(this.ClassName.sidebar);e&&e.addEventListener("transitionend",this.fixLayout.bind(this)),t&&t.addEventListener("transitionend",this.fixLayout.bind(this)),this.bindedResize=!0}const e=document.querySelector(this.Selector.sidebarMenu);e&&(e.addEventListener(Tree.Event.expanded,this.fixLayout.bind(this)),e.addEventListener(Tree.Event.collapsed,this.fixLayout.bind(this)))}fix(){const e=document.querySelector(this.Selector.mainFooter),t=document.querySelector(this.Selector.sidebar),s=document.querySelector(this.Selector.mainHeader),i=document.querySelector(this.Selector.contentWrapper);if(!i)return;const o=document.querySelector(`${this.Selector.layoutBoxed} > ${this.Selector.wrapper}`);o&&(o.style.overflow="hidden");const n=e?e.offsetHeight:0,a=t?t.offsetHeight:0,l=window.innerHeight,r=s?s.offsetHeight+n:n;let h;if(document.querySelector("body").classList.contains(this.ClassName.fixed))i.style.minHeight=`${l-n}px`;else{l>=a?(h=l-r,i.style.minHeight=`${h}px`):(h=a,i.style.minHeight=`${h}px`);const e=document.querySelector(this.Selector.controlSidebar);e&&e.clientHeight>h&&(i.style.minHeight=`${e.clientHeight}px`)}}fixSidebar(){const e=document.querySelector(this.Selector.mainHeader),t=document.querySelector(this.Selector.sidebar);if(!t)return;if(!this.element.classList.contains(this.ClassName.fixed))return;const s=e?e.offsetHeight:0,i=window.innerHeight;t.style.height=`${i-s}px`,t.style.overflowY="scroll"}fixLayout(){this.fix(),this.fixSidebar()}}Layout.Default={resetHeight:!0,transitionEnabled:!0},Layout.Selector={heightReset:"body, html, .wrapper",wrapper:".wrapper",sidebar:".sidebar",logo:".main-header .logo",layoutBoxed:".layout-boxed",sidebarMenu:".sidebar-menu",mainFooter:".main-footer",mainHeader:".main-header",contentWrapper:".content-wrapper",controlSidebar:".control-sidebar"},Layout.ClassName={holdTransition:"hold-transition",fixed:"fixed"},runner.push(()=>new Layout);class ControlSidebar{static bind(){const e=document.querySelectorAll(ControlSidebar.Selector.data);e&&Array.prototype.forEach.call(e,e=>new ControlSidebar(e))}constructor(e,t,s,i,o){this.Default=ControlSidebar.Default,this.ClassName=s||ControlSidebar.ClassName,this.Selector=i||ControlSidebar.Selector,this.Event=o||ControlSidebar.Event,this.element=document.querySelector(this.Selector.sidebar),this.options=Utilities.grabOptions(this.Default,t,this.element),this.body=document.querySelector("body"),e&&(e.addEventListener("click",e=>{e.preventDefault(),this.toggle(),this.fix()}),window.addEventListener("resize",this.fix.bind(this)))}fix(){if(this.body.classList.contains(this.ClassName.boxed)){const e=document.querySelector(this.Selector.bg),t=document.querySelector(this.Selector.wrapper);e&&t&&(e.style.position="absolute",e.style.height=t.innerHeight)}}toggle(){const e=document.querySelector(this.Selector.sidebar);e&&(this.fix(),e.classList.contains(this.ClassName.open)||this.body.classList.contains(this.ClassName.open)?this.collapse():this.expand())}expand(){this.options.slide?this.element.classList.add(this.ClassName.open):this.body.classList.add(this.ClassName.open),this.element.dispatchEvent(new CustomEvent(this.Event.expanded))}collapse(){this.body.classList.remove(this.ClassName.open),this.element.classList.remove(this.ClassName.open),this.element.dispatchEvent(new CustomEvent(this.Event.collapsed))}}ControlSidebar.Default={slide:!0},ControlSidebar.Selector={data:'[data-toggle="control-sidebar"]',bg:".control-sidebar-bg",wrapper:".wrapper",sidebar:".control-sidebar"},ControlSidebar.ClassName={open:"control-sidebar-open",boxed:"layout-boxed"},ControlSidebar.Event={expanded:"controlsidebar_expanded",collapsed:"controlsidebar_collapsed"},runner.push(ControlSidebar.bind);class BoxRefresh{static bind(){Array.prototype.forEach.call(document.querySelectorAll(BoxRefresh.Selector.data),e=>new BoxRefresh(e))}constructor(e,t,s){if(this.Default=BoxRefresh.Default,this.Selector=s||BoxRefresh.Selector,this.element=e,this.options=Utilities.grabOptions(this.Default,t,this.element),""===this.options.source)throw new Error("Source url was not defined. Please specify a url in your BoxRefresh source option.");this.setUpListeners(),this.load()}setUpListeners(){this.element.querySelector(this.options.trigger).addEventListener("click",e=>{e.preventDefault(),this.load()})}load(){this.options.showOverlay&&this.addOverlay();const e=e=>"string"==typeof e?JSON.parse(e):e,t=(t,s)=>{let i="?";this.options.params=e(this.options.params),Object.keys(this.options.params).map(e=>i=`${i}${e}=${this.options.params[e]}&`),i=i.substring(0,i.length-1),this.xhr=new XMLHttpRequest,this.xhr.open("GET",`${this.options.source}${i}`),this.options.headers=e(this.options.headers),Object.keys(this.options.headers).map(e=>this.xhr.setRequestHeader(e,this.options.headers[e])),this.xhr.onload=(()=>{this.xhr.status>=200&&this.xhr.status<300?t(this.xhr.response):s(this.xhr.statusText)}),this.xhr.onerror=(()=>s(this.xhr.statusText)),this.xhr.send()},s=e=>{"string"==typeof this.options.onLoadDone?window[this.options.onLoadDone](this,e):this.options.onLoadDone.call(this,e),this.options.showOverlay&&this.removeOverlay(),this.options.loadInContent&&(this.element.querySelector(this.options.content).innerHTML=e)};new Promise((e,t)=>{"string"==typeof this.options.onLoadStart?window[this.options.onLoadStart](this,t,e):this.options.onLoadStart.call(this,t,e)}).then(()=>new Promise((e,s)=>t(e,s))).then(e=>s(e)).catch(e=>s(e))}addOverlay(){this.element.innerHTML+=this.options.overlayTemplate}removeOverlay(){const e=this.element.querySelector(this.Selector.overlay);e&&e.remove(),this.setUpListeners()}}BoxRefresh.Default={source:"",params:{},headers:{},trigger:".refresh-btn",content:".box-body",loadInContent:!0,responseType:"",showOverlay:!0,overlayTemplate:'<div class="overlay"><div class="fa fa-refresh fa-spin"></div></div>',onLoadStart:(e,t)=>{t()},onLoadDone:e=>e},BoxRefresh.Selector={data:'[data-widget="box-refresh"]',overlay:".overlay"},runner.push(BoxRefresh.bind);class BoxWidget{static bind(){Array.prototype.forEach.call(document.querySelectorAll(BoxWidget.Selector.data),e=>new BoxWidget(e))}constructor(e,t,s,i,o){this.Default=BoxWidget.Default,this.ClassName=s||BoxWidget.ClassName,this.Selector=i||BoxWidget.Selector,this.Event=o||BoxWidget.Event,this.element=e,this.options=Utilities.grabOptions(this.Default,t,this.element),this.setUpListeners()}setUpListeners(){Array.prototype.forEach.call(this.element.querySelectorAll(this.options.collapseTrigger),e=>{e.addEventListener("click",e=>{e.preventDefault(),this.toggle()})}),Array.prototype.forEach.call(this.element.querySelectorAll(this.options.removeTrigger),e=>{e.addEventListener("click",e=>{e.preventDefault(),this.remove()})})}toggle(){!this.element.classList.contains(this.ClassName.collapsed)?this.collapse():this.expand()}remove(){"undefined"==typeof Velocity?(this.element.dispatchEvent(new CustomEvent(this.Event.removed)),this.element.remove()):Velocity(this.element,"slideUp",{easing:this.options.easing,duration:this.options.animationSpeed}).then(()=>{this.element.dispatchEvent(new CustomEvent(this.Event.removed)),this.element.remove()})}collapse(){const e=this.element.querySelectorAll(`.${this.options.collapseIcon}`);Array.prototype.forEach.call(e,e=>{e.classList.remove(this.options.collapseIcon),e.classList.add(this.options.expandIcon)});const t=e=>{e&&this.element.dispatchEvent(new CustomEvent(this.Event.collapsed))},s=(e,s)=>{const i=e;i&&("undefined"==typeof Velocity?(i.style.display="none",t(s)):Velocity(i,"slideUp",{easing:this.options.easing,duration:this.options.animationSpeed}).then(()=>{t(s)}))};s(this.element.querySelector(this.Selector.footer)),s(this.element.querySelector(this.Selector.body),!0),setTimeout(()=>this.element.classList.add(this.ClassName.collapsed),this.options.animationSpeed)}expand(){const e=this.element.querySelectorAll(`.${this.options.expandIcon}`);Array.prototype.forEach.call(e,e=>{e.classList.remove(this.options.expandIcon),e.classList.add(this.options.collapseIcon)});const t=e=>{e&&this.element.dispatchEvent(new CustomEvent(this.Event.expanded))},s=(e,s)=>{const i=e;i&&("undefined"==typeof Velocity?(i.style.display="block",t(s)):Velocity(e,"slideDown",{easing:this.options.easing,duration:this.options.animationSpeed}).then(()=>{t(s)}))};s(this.element.querySelector(this.Selector.footer)),s(this.element.querySelector(this.Selector.body),!0),setTimeout(()=>this.element.classList.remove(this.ClassName.collapsed),this.options.animationSpeed)}}BoxWidget.Default={animationSpeed:500,easing:"easeInSine",collapseTrigger:'[data-widget="collapse"]',removeTrigger:'[data-widget="remove"]',collapseIcon:"fa-minus",expandIcon:"fa-plus",removeIcon:"fa-times"},BoxWidget.Selector={data:".box",body:".box-body",footer:".box-footer"},BoxWidget.ClassName={collapsed:"collapsed-box"},BoxWidget.Event={collapsed:"boxwidget_collapsed",expanded:"boxwidget_expanded",removed:"boxwidget_remove"},runner.push(BoxWidget.bind);class DirectChat{static bind(){Array.prototype.forEach.call(document.querySelectorAll(DirectChat.Selector.data),e=>new DirectChat(e))}constructor(e,t,s){this.ClassName=t||DirectChat.ClassName,this.Selector=s||DirectChat.Selector,this.element=e,this.setUpListener()}setUpListener(){this.element.addEventListener("click",e=>{this.toggle(),e.preventDefault()})}toggle(){const e=this.element.closest(this.Selector.box);e&&e.classList.toggle(this.ClassName.open)}}DirectChat.Selector={data:'[data-widget="chat-pane-toggle"]',box:".direct-chat"},DirectChat.ClassName={open:"direct-chat-contacts-open"},runner.push(DirectChat.bind);class TodoList{static bind(){Array.prototype.forEach.call(document.querySelectorAll(TodoList.Selector.data),e=>new TodoList(e))}constructor(e,t,s,i){this.Default=TodoList.Default,this.Selector=i||TodoList.Selector,this.ClassName=s||TodoList.ClassName,this.element=e,this.options=Utilities.grabOptions(this.Default,t,this.element),this.setUpListeners()}setUpListeners(){Array.prototype.forEach.call(this.element.querySelectorAll("input[type=checkbox]"),e=>{e.addEventListener("change",()=>this.toggle(e))})}toggle(e){e.closest("li").classList.toggle(this.ClassName.done),e.checked?this.check(e):this.uncheck(e)}check(e){"string"==typeof this.options.onCheck?window[this.options.onCheck](e):this.options.onCheck.call(e)}uncheck(e){"string"==typeof this.options.onUncheck?window[this.options.onUncheck](e):this.options.onUncheck.call(e)}}TodoList.Default={onCheck:e=>e,onUncheck:e=>e},TodoList.Selector={data:'[data-widget="todo-list"]'},TodoList.ClassName={done:"done"},runner.push(TodoList.bind);