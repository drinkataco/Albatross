"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),runner=[];window.onload=function(){return runner.map(function(e){return e()})};var Utilities={};Utilities.findChildren=function(e,t,n){for(var s=[],i=n.firstChild;i;)i.nodeName===e&&i.classList.contains(t)&&s.push(i),i=i.nextSibling;return s},Utilities.grabOptions=function(e,t,n,s){var i={};i.default=e,i.current=t||{},i.calculated={};for(var o=s||Object.keys(e),a=0;a<o.length;a+=1){var l=o[a],r=void 0;r="false"!==(r=l in i.current?i.current[l]:n&&l in n.dataset?n.dataset[l]:i.default[l])&&r,i.calculated[l]=r}return i.calculated};var Tree=function(){function e(t,n,s,i,o){_classCallCheck(this,e),this.Default=e.Default,this.ClassName=s||e.ClassName,this.Selector=i||e.Selector,this.Event=o||e.Event,this.element=t,this.element.classList.add(this.ClassName.tree),this.options=Utilities.grabOptions(this.Default,n,this.element);var a=this.element.querySelector(this.Selector.activeTreeview);null!==a&&a.classList.add(this.ClassName.open),this.setUpListeners()}return _createClass(e,null,[{key:"bind",value:function(){Array.prototype.forEach.call(document.querySelectorAll(e.Selector.data),function(t){return new e(t)})}}]),_createClass(e,[{key:"setUpListeners",value:function(){var e=this;Array.prototype.forEach.call(this.element.querySelectorAll(this.options.trigger),function(t){t.addEventListener("click",function(n){e.toggle(t,n)})})}},{key:"toggle",value:function(e,t){var n=e.parentNode,s=n.classList.contains(this.ClassName.open),i=Utilities.findChildren("UL",this.ClassName.treeviewMenu,n);n.classList.contains(this.ClassName.treeview)&&(this.options.followLink&&"#"!==e.getAttribute("href")||t.preventDefault(),s?this.collapse(i,n):this.expand(i,n))}},{key:"collapse",value:function(e,t){var n=this;t.classList.remove(this.ClassName.open);var s=e;Array.prototype.forEach.call(s,function(e){var t=e;"undefined"==typeof Velocity?(t.style.display="none",n.element.dispatchEvent(new CustomEvent(n.Event.collapsed))):Velocity(t,"slideUp",{easing:n.options.easing,duration:n.options.animationSpeed}).then(function(){n.element.dispatchEvent(new CustomEvent(n.Event.collapsed))})})}},{key:"expand",value:function(e,t){var n=this,s=Utilities.findChildren("LI",this.ClassName.open,t.parentNode);this.options.accordion&&Array.prototype.forEach.call(s,function(e){var t=Utilities.findChildren("UL",n.ClassName.treeviewMenu,e);n.collapse(t,e)}),t.classList.add(this.ClassName.open);var i=e[0];"undefined"==typeof Velocity?(i.style.display="block",this.element.dispatchEvent(new CustomEvent(this.Event.expanded))):Velocity(i,"slideDown",{easing:this.options.easing,duration:this.options.animationSpeed}).then(function(){n.element.dispatchEvent(new CustomEvent(n.Event.expanded))})}}]),e}();Tree.Default={animationSpeed:300,accordion:!0,followLink:!0,trigger:".treeview a",easing:"easeInSine"},Tree.Selector={data:'[data-widget="tree"]',activeTreeview:".treeview.active"},Tree.ClassName={open:"menu-open",tree:"tree",treeview:"treeview",treeviewMenu:"treeview-menu"},Tree.Event={expanded:"tree_expanded",collapsed:"tree_collapsed"},runner.push(Tree.bind);var PushMenu=function(){function e(t,n,s,i){var o=this;_classCallCheck(this,e),this.Default=e.Default,this.ClassName=s||e.ClassName,this.Selector=i||e.Selector,this.element=t,this.windowWidth=window.innerWidth,this.options=Utilities.grabOptions(this.Default,n,this.element),this.body=document.querySelector("body"),t&&((this.options.expandOnHover||this.body.classList.contains(this.ClassName.mini)&&this.body.classList.contains(this.ClassName.layoutFixed))&&(this.expandOnHover(),this.body.classList.add(this.ClassName.expandFeature)),this.body.getElementsByClassName(this.ClassName.contentWrapper)[0].addEventListener("click",function(){o.windowWidth<=o.options.collapseScreenSize&&o.body.classList.contains(o.ClassName.open)&&o.close()}),this.body.querySelector(this.Selector.searchInput).addEventListener("click",function(e){e.stopPropagation()}),this.setUpListeners())}return _createClass(e,null,[{key:"bind",value:function(){Array.prototype.forEach.call(document.querySelectorAll(e.Selector.button),function(t){return new e(t)})}}]),_createClass(e,[{key:"setUpListeners",value:function(){var e=this;this.element.addEventListener("click",function(t){e.windowWidth=window.innerWidth,t.preventDefault(),e.toggle()})}},{key:"toggle",value:function(){var e=!this.body.classList.contains(this.ClassName.collapsed);this.windowWidth<=this.options.collapseScreenSize&&(e=this.body.classList.contains(this.ClassName.open)),e?this.close():this.open()}},{key:"open",value:function(){this.windowWidth>this.options.collapseScreenSize?this.body.classList.remove(this.ClassName.collapsed):this.body.classList.add(this.ClassName.open)}},{key:"close",value:function(){this.windowWidth>this.options.collapseScreenSize?(this.body.classList.remove(this.ClassName.expanded),this.body.classList.add(this.ClassName.collapsed)):(this.body.classList.remove(this.ClassName.open),this.body.classList.remove(this.ClassName.collapsed))}},{key:"expand",value:function(){var e=this;window.setTimeout(function(){e.body.classList.remove(e.ClassName.collapsed),e.body.classList.add(e.ClassName.expanded)},this.options.expandTransitionDelay)}},{key:"collapse",value:function(){var e=this;window.setTimeout(function(){e.body.classList.remove(e.ClassName.expanded),e.body.classList.add(e.ClassName.collapsed)},this.options.expandTransitionDelay)}},{key:"expandOnHover",value:function(){var e=this;Array.prototype.forEach.call(document.getElementsByClassName(this.ClassName.mainSidebar),function(t){t.addEventListener("mouseover",function(){e.body.classList.contains(e.ClassName.mini)&&e.body.classList.contains(e.ClassName.collapsed)&&e.windowWidth>e.options.collapseScreenSize&&e.expand()}),t.addEventListener("mouseleave",function(){e.body.classList.contains(e.ClassName.expanded)&&e.collapse()})})}}]),e}();PushMenu.Default={collapseScreenSize:767,expandOnHover:!1,expandTransitionDelay:0},PushMenu.Selector={button:'[data-toggle="push-menu"]',mainLogo:".main-header .logo",searchInput:".sidebar-form .form-control"},PushMenu.ClassName={collapsed:"sidebar-collapse",open:"sidebar-open",mainSidebar:"main-sidebar",mini:"sidebar-mini",contentWrapper:"content-wrapper",layoutFixed:"fixed",expanded:"sidebar-expanded-on-hover",expandFeature:"sidebar-mini-expand-feature"},runner.push(PushMenu.bind);var Layout=function(){function e(t,n,s){_classCallCheck(this,e),this.Default=e.Default,this.Selector=s||e.Selector,this.ClassName=n||e.ClassName,this.blindedResize=!1,this.element=document.querySelector("body"),this.options=Utilities.grabOptions(this.Default,t,this.element),this.activate()}return _createClass(e,[{key:"activate",value:function(){if(this.fixLayout(),this.options.transitionEnabled&&this.element.classList.remove(this.ClassName.holdTransition),this.options.resetHeight){var e=document.querySelectorAll(this.Selector.heightReset);Array.prototype.forEach.call(e,function(e){var t=e;t.style.height="auto",t.style.minHeight="100%"})}if(!this.bindedResize){window.addEventListener("resize",this.fixLayout.bind(this));var t=document.querySelector(this.Selector.logo),n=document.querySelector(this.ClassName.sidebar);t&&t.addEventListener("transitionend",this.fixLayout.bind(this)),n&&n.addEventListener("transitionend",this.fixLayout.bind(this)),this.bindedResize=!0}var s=document.querySelector(this.Selector.sidebarMenu);s&&(s.addEventListener(Tree.Event.expanded,this.fixLayout.bind(this)),s.addEventListener(Tree.Event.collapsed,this.fixLayout.bind(this)))}},{key:"fix",value:function(){var e=document.querySelector(this.Selector.mainFooter),t=document.querySelector(this.Selector.sidebar),n=document.querySelector(this.Selector.mainHeader),s=document.querySelector(this.Selector.contentWrapper);if(s){var i=document.querySelector(this.Selector.layoutBoxed+" > "+this.Selector.wrapper);i&&(i.style.overflow="hidden");var o=e?e.offsetHeight:0,a=t?t.offsetHeight:0,l=window.innerHeight,r=n?n.offsetHeight+o:o,c=void 0;if(document.querySelector("body").classList.contains(this.ClassName.fixed))s.style.minHeight=l-o+"px";else{l>=a?(c=l-r,s.style.minHeight=c+"px"):(c=a,s.style.minHeight=c+"px");var d=document.querySelector(this.Selector.controlSidebar);d&&d.clientHeight>c&&(s.style.minHeight=d.clientHeight+"px")}}}},{key:"fixSidebar",value:function(){var e=document.querySelector(this.Selector.mainHeader),t=document.querySelector(this.Selector.sidebar);if(t&&this.element.classList.contains(this.ClassName.fixed)){var n=e?e.offsetHeight:0,s=window.innerHeight;t.style.height=s-n+"px",t.style.overflowY="scroll"}}},{key:"fixLayout",value:function(){this.fix(),this.fixSidebar()}}]),e}();Layout.Default={resetHeight:!0,transitionEnabled:!0},Layout.Selector={heightReset:"body, html, .wrapper",wrapper:".wrapper",sidebar:".sidebar",logo:".main-header .logo",layoutBoxed:".layout-boxed",sidebarMenu:".sidebar-menu",mainFooter:".main-footer",mainHeader:".main-header",contentWrapper:".content-wrapper",controlSidebar:".control-sidebar"},Layout.ClassName={holdTransition:"hold-transition",fixed:"fixed"},runner.push(function(){return new Layout});var ControlSidebar=function(){function e(t,n,s,i,o){var a=this;_classCallCheck(this,e),this.Default=e.Default,this.ClassName=s||e.ClassName,this.Selector=i||e.Selector,this.Event=o||e.Event,this.element=document.querySelector(this.Selector.sidebar),this.options=Utilities.grabOptions(this.Default,n,this.element),this.body=document.querySelector("body"),t&&(t.addEventListener("click",function(e){e.preventDefault(),a.toggle(),a.fix()}),window.addEventListener("resize",this.fix.bind(this)))}return _createClass(e,null,[{key:"bind",value:function(){var t=document.querySelectorAll(e.Selector.data);t&&Array.prototype.forEach.call(t,function(t){return new e(t)})}}]),_createClass(e,[{key:"fix",value:function(){if(this.body.classList.contains(this.ClassName.boxed)){var e=document.querySelector(this.Selector.bg),t=document.querySelector(this.Selector.wrapper);e&&t&&(e.style.position="absolute",e.style.height=t.innerHeight)}}},{key:"toggle",value:function(){var e=document.querySelector(this.Selector.sidebar);e&&(this.fix(),e.classList.contains(this.ClassName.open)||this.body.classList.contains(this.ClassName.open)?this.collapse():this.expand())}},{key:"expand",value:function(){this.options.slide?this.element.classList.add(this.ClassName.open):this.body.classList.add(this.ClassName.open),this.element.dispatchEvent(new CustomEvent(this.Event.expanded))}},{key:"collapse",value:function(){this.body.classList.remove(this.ClassName.open),this.element.classList.remove(this.ClassName.open),this.element.dispatchEvent(new CustomEvent(this.Event.collapsed))}}]),e}();ControlSidebar.Default={slide:!0},ControlSidebar.Selector={data:'[data-toggle="control-sidebar"]',bg:".control-sidebar-bg",wrapper:".wrapper",sidebar:".control-sidebar"},ControlSidebar.ClassName={open:"control-sidebar-open",boxed:"layout-boxed"},ControlSidebar.Event={expanded:"controlsidebar_expanded",collapsed:"controlsidebar_collapsed"},runner.push(ControlSidebar.bind);var BoxRefresh=function(){function e(t,n,s){if(_classCallCheck(this,e),this.Default=e.Default,this.Selector=s||e.Selector,this.element=t,this.options=Utilities.grabOptions(this.Default,n,this.element),""===this.options.source)throw new Error("Source url was not defined. Please specify a url in your BoxRefresh source option.");this.setUpListeners(),this.load()}return _createClass(e,null,[{key:"bind",value:function(){Array.prototype.forEach.call(document.querySelectorAll(e.Selector.data),function(t){return new e(t)})}}]),_createClass(e,[{key:"setUpListeners",value:function(){var e=this;this.element.querySelector(this.options.trigger).addEventListener("click",function(t){t.preventDefault(),e.load()})}},{key:"load",value:function(){var e=this;this.options.showOverlay&&this.addOverlay();var t=function(e){return"string"==typeof e?JSON.parse(e):e},n=function(n,s){var i="?";e.options.params=t(e.options.params),Object.keys(e.options.params).map(function(t){return i=""+i+t+"="+e.options.params[t]+"&"}),i=i.substring(0,i.length-1),e.xhr=new XMLHttpRequest,e.xhr.open("GET",""+e.options.source+i),e.options.headers=t(e.options.headers),Object.keys(e.options.headers).map(function(t){return e.xhr.setRequestHeader(t,e.options.headers[t])}),e.xhr.onload=function(){e.xhr.status>=200&&e.xhr.status<300?n(e.xhr.response):s(e.xhr.statusText)},e.xhr.onerror=function(){return s(e.xhr.statusText)},e.xhr.send()},s=function(t){"string"==typeof e.options.onLoadDone?window[e.options.onLoadDone](e,t):e.options.onLoadDone.call(e,t),e.options.showOverlay&&e.removeOverlay(),e.options.loadInContent&&(e.element.querySelector(e.options.content).innerHTML=t)};new Promise(function(t,n){"string"==typeof e.options.onLoadStart?window[e.options.onLoadStart](e,n,t):e.options.onLoadStart.call(e,n,t)}).then(function(){return new Promise(function(e,t){return n(e,t)})}).then(function(e){return s(e)}).catch(function(e){return s(e)})}},{key:"addOverlay",value:function(){this.element.innerHTML+=this.options.overlayTemplate}},{key:"removeOverlay",value:function(){var e=this.element.querySelector(this.Selector.overlay);e&&e.remove(),this.setUpListeners()}}]),e}();BoxRefresh.Default={source:"",params:{},headers:{},trigger:".refresh-btn",content:".box-body",loadInContent:!0,responseType:"",showOverlay:!0,overlayTemplate:'<div class="overlay"><div class="fa fa-refresh fa-spin"></div></div>',onLoadStart:function(e,t){t()},onLoadDone:function(e){return e}},BoxRefresh.Selector={data:'[data-widget="box-refresh"]',overlay:".overlay"},runner.push(BoxRefresh.bind);var BoxWidget=function(){function e(t,n,s,i,o){_classCallCheck(this,e),this.Default=e.Default,this.ClassName=s||e.ClassName,this.Selector=i||e.Selector,this.Event=o||e.Event,this.element=t,this.options=Utilities.grabOptions(this.Default,n,this.element),this.setUpListeners()}return _createClass(e,null,[{key:"bind",value:function(){Array.prototype.forEach.call(document.querySelectorAll(e.Selector.data),function(t){return new e(t)})}}]),_createClass(e,[{key:"setUpListeners",value:function(){var e=this;Array.prototype.forEach.call(this.element.querySelectorAll(this.options.collapseTrigger),function(t){t.addEventListener("click",function(t){t.preventDefault(),e.toggle()})}),Array.prototype.forEach.call(this.element.querySelectorAll(this.options.removeTrigger),function(t){t.addEventListener("click",function(t){t.preventDefault(),e.remove()})})}},{key:"toggle",value:function(){!this.element.classList.contains(this.ClassName.collapsed)?this.collapse():this.expand()}},{key:"remove",value:function(){var e=this;"undefined"==typeof Velocity?(this.element.dispatchEvent(new CustomEvent(this.Event.removed)),this.element.remove()):Velocity(this.element,"slideUp",{easing:this.options.easing,duration:this.options.animationSpeed}).then(function(){e.element.dispatchEvent(new CustomEvent(e.Event.removed)),e.element.remove()})}},{key:"collapse",value:function(){var e=this,t=this.element.querySelectorAll("."+this.options.collapseIcon);Array.prototype.forEach.call(t,function(t){t.classList.remove(e.options.collapseIcon),t.classList.add(e.options.expandIcon)});var n=function(t){t&&e.element.dispatchEvent(new CustomEvent(e.Event.collapsed))},s=function(t,s){var i=t;i&&("undefined"==typeof Velocity?(i.style.display="none",n(s)):Velocity(i,"slideUp",{easing:e.options.easing,duration:e.options.animationSpeed}).then(function(){n(s)}))};s(this.element.querySelector(this.Selector.footer)),s(this.element.querySelector(this.Selector.body),!0),setTimeout(function(){return e.element.classList.add(e.ClassName.collapsed)},this.options.animationSpeed)}},{key:"expand",value:function(){var e=this,t=this.element.querySelectorAll("."+this.options.expandIcon);Array.prototype.forEach.call(t,function(t){t.classList.remove(e.options.expandIcon),t.classList.add(e.options.collapseIcon)});var n=function(t){t&&e.element.dispatchEvent(new CustomEvent(e.Event.expanded))},s=function(t,s){var i=t;i&&("undefined"==typeof Velocity?(i.style.display="block",n(s)):Velocity(t,"slideDown",{easing:e.options.easing,duration:e.options.animationSpeed}).then(function(){n(s)}))};s(this.element.querySelector(this.Selector.footer)),s(this.element.querySelector(this.Selector.body),!0),setTimeout(function(){return e.element.classList.remove(e.ClassName.collapsed)},this.options.animationSpeed)}}]),e}();BoxWidget.Default={animationSpeed:500,easing:"easeInSine",collapseTrigger:'[data-widget="collapse"]',removeTrigger:'[data-widget="remove"]',collapseIcon:"fa-minus",expandIcon:"fa-plus",removeIcon:"fa-times"},BoxWidget.Selector={data:".box",body:".box-body",footer:".box-footer"},BoxWidget.ClassName={collapsed:"collapsed-box"},BoxWidget.Event={collapsed:"boxwidget_collapsed",expanded:"boxwidget_expanded",removed:"boxwidget_remove"},runner.push(BoxWidget.bind);var DirectChat=function(){function e(t,n,s){_classCallCheck(this,e),this.ClassName=n||e.ClassName,this.Selector=s||e.Selector,this.element=t,this.setUpListener()}return _createClass(e,null,[{key:"bind",value:function(){Array.prototype.forEach.call(document.querySelectorAll(e.Selector.data),function(t){return new e(t)})}}]),_createClass(e,[{key:"setUpListener",value:function(){var e=this;this.element.addEventListener("click",function(t){e.toggle(),t.preventDefault()})}},{key:"toggle",value:function(){var e=this.element.closest(this.Selector.box);e&&e.classList.toggle(this.ClassName.open)}}]),e}();DirectChat.Selector={data:'[data-widget="chat-pane-toggle"]',box:".direct-chat"},DirectChat.ClassName={open:"direct-chat-contacts-open"},runner.push(DirectChat.bind);var TodoList=function(){function e(t,n,s,i){_classCallCheck(this,e),this.Default=e.Default,this.Selector=i||e.Selector,this.ClassName=s||e.ClassName,this.element=t,this.options=Utilities.grabOptions(this.Default,n,this.element),this.setUpListeners()}return _createClass(e,null,[{key:"bind",value:function(){Array.prototype.forEach.call(document.querySelectorAll(e.Selector.data),function(t){return new e(t)})}}]),_createClass(e,[{key:"setUpListeners",value:function(){var e=this;Array.prototype.forEach.call(this.element.querySelectorAll("input[type=checkbox]"),function(t){t.addEventListener("change",function(){return e.toggle(t)})})}},{key:"toggle",value:function(e){e.closest("li").classList.toggle(this.ClassName.done),e.checked?this.check(e):this.uncheck(e)}},{key:"check",value:function(e){"string"==typeof this.options.onCheck?window[this.options.onCheck](e):this.options.onCheck.call(e)}},{key:"uncheck",value:function(e){"string"==typeof this.options.onUncheck?window[this.options.onUncheck](e):this.options.onUncheck.call(e)}}]),e}();TodoList.Default={onCheck:function(e){return e},onUncheck:function(e){return e}},TodoList.Selector={data:'[data-widget="todo-list"]'},TodoList.ClassName={done:"done"},runner.push(TodoList.bind);